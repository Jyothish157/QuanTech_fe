<section class="page">
  <header class="header">
    <div class="overview-text">
      <h1>Dashboard Overview</h1>
      <p class="muted">
        Welcome back{{ currentEmployee ? ', ' + currentEmployee.Name : '' }}!
        Here's what's happening today.
      </p>
    </div>
  </header>

  <div class="kpis">
    <a class="kpi" routerLink="/attendance">
      <div class="icon blue">âŒš</div>
      <div class="meta">
        <div class="title">Today's Attendance</div>
        <div class="desc">
          {{ getTodayAttendanceCount() }} of {{ getTotalEmployees() }} employees
        </div>
      </div>
      <div class="value">{{ todayAttendancePercentage }}%</div>
    </a>

    <a class="kpi" routerLink="/leave-requests">
      <div class="icon violet">ðŸ“…</div>
      <div class="meta">
        <div class="title">Pending Leave Requests</div>
        <div class="desc" *ngIf="isManager">Requires manager approval</div>
        <div class="desc" *ngIf="!isManager">Your requests</div>
      </div>
      <div class="value">{{ pendingLeaveRequests }}</div>
    </a>

    <a class="kpi" routerLink="/shifts">
      <div class="icon green">ðŸ‘¥</div>
      <div class="meta">
        <div class="title">Shift Coverage</div>
        <div class="desc">{{ getShiftCount() }} shifts assigned</div>
      </div>
      <div class="value">{{ shiftCoveragePercentage }}%</div>
    </a>
  </div>

  <div class="grid">
    <div class="card">
      <div class="card-title">Recent Activity</div>
      <ul class="list">
        <li *ngFor="let activity of recentActivity">{{ activity }}</li>
      </ul>
    </div>

    <div class="card">
      <div class="card-title">Quick Actions</div>
      <div class="quick">
        <a routerLink="/attendance" class="qa">
          {{ isClockedIn ? 'Clock Out' : 'Clock In' }}
        </a>
        <a routerLink="/leave-requests" class="qa">New Leave</a>
        <a routerLink="/leave-balance" class="qa">Leave Balance</a>
        <a routerLink="/shifts" class="qa">Shifts</a>
        <!-- Manager only actions -->
        <a routerLink="/reports" class="qa" *ngIf="isManager">View Reports</a>
        <a routerLink="/employee-management" class="qa" *ngIf="isManager"
          >Manage Employees</a
        >
        <a routerLink="/employee-attendance" class="qa" *ngIf="isManager"
          >Employee Attendance</a
        >
      </div>
    </div>
  </div>
</section>
